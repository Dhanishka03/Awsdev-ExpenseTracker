<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-Time Expense Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Expense Tracker Dashboard</h1>
            <div class="theme-toggle">
                <label class="switch">
                    <input type="checkbox" id="theme-toggle">
                    <span class="slider round"></span>
                </label>
                <span id="theme-label">Dark Mode</span>
            </div>
        </header>
        
        <div id="user-info-container" class="user-info-container">
            <h2>User Information</h2>
            <p>Please enter your name and salary to get started with the expense tracker. This information is required before you can proceed.</p>
            <form id="user-info-form">
                <div class="form-group">
                    <label for="user-name">Your Name</label>
                    <input type="text" id="user-name" required placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label for="user-salary">Monthly Salary ($)</label>
                    <input type="number" id="user-salary" step="0.01" min="0.01" required placeholder="Enter your monthly salary">
                </div>
                <button type="submit" class="btn">Save Information & Continue</button>
            </form>
        </div>

        <main class="hidden">
            <section class="expense-input-section">
                <h2>Add New Expense</h2>
                <form id="expense-form">
                    <div class="form-group">
                        <label for="expense-amount">Amount ($)</label>
                        <input type="number" id="expense-amount" step="0.01" min="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="expense-category">Category</label>
                        <select id="expense-category" required>
                            <option value="">Select a category</option>
                            <option value="Food">Food</option>
                            <option value="Transportation">Transportation</option>
                            <option value="Entertainment">Entertainment</option>
                            <option value="Utilities">Utilities</option>
                            <option value="Housing">Housing</option>
                            <option value="Healthcare">Healthcare</option>
                            <option value="Shopping">Shopping</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="expense-date">Date</label>
                        <input type="datetime-local" id="expense-date" required>
                    </div>
                    <div class="form-group">
                        <label for="expense-description">Description (Optional)</label>
                        <input type="text" id="expense-description">
                    </div>
                    <button type="submit" class="btn">Add Expense</button>
                </form>
            </section>

            <section class="dashboard-section">
                <div class="user-summary">
                    <div class="card user-card">
                        <h3>Welcome, <span id="display-name">User</span></h3>
                        <p>Monthly Salary: <span id="display-salary">$0.00</span></p>
                        <button id="edit-user-info" class="btn-small">Edit Info</button>
                    </div>
                </div>
                
                <div class="summary-cards">
                    <div class="card">
                        <h3>Total Expenses</h3>
                        <p id="total-amount">$0.00</p>
                    </div>
                    <div class="card">
                        <h3>Balance</h3>
                        <p id="balance-amount">$0.00</p>
                    </div>
                    <div class="card">
                        <h3>Monthly Savings</h3>
                        <p id="savings-amount">$0.00</p>
                    </div>
                    <div class="card">
                        <h3>This Week</h3>
                        <p id="week-amount">$0.00</p>
                    </div>
                    <div class="card">
                        <h3>Today</h3>
                        <p id="today-amount">$0.00</p>
                    </div>
                </div>

                <div class="filter-controls">
                    <h3>Filter Expenses</h3>
                    <div class="filter-options">
                        <div class="form-group">
                            <label for="date-filter">Time Period</label>
                            <select id="date-filter">
                                <option value="all">All Time</option>
                                <option value="today">Today</option>
                                <option value="week">This Week</option>
                                <option value="month">This Month</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="category-filter">Category</label>
                            <select id="category-filter">
                                <option value="all">All Categories</option>
                                <option value="Food">Food</option>
                                <option value="Transportation">Transportation</option>
                                <option value="Entertainment">Entertainment</option>
                                <option value="Utilities">Utilities</option>
                                <option value="Housing">Housing</option>
                                <option value="Healthcare">Healthcare</option>
                                <option value="Shopping">Shopping</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart-card">
                        <h3>Expenses by Category</h3>
                        <div class="chart-wrapper">
                            <canvas id="category-chart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Spending Trends</h3>
                        <div class="chart-wrapper">
                            <canvas id="trend-chart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="expenses-list-container">
                    <h3>Recent Expenses</h3>
                    <table id="expenses-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Category</th>
                                <th>Description</th>
                                <th>Amount</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="expenses-list">
                            <!-- Expenses will be added here dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2023 Real-Time Expense Tracker</p>
        </footer>
    </div>

    <script src="app.js"></script>
    <script src="tests.js"></script>
</body>
</html>